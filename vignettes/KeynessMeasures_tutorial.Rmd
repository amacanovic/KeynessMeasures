---
title: "KeynessMeasures: Calculate significance and effect size measures of word keyness"
author: "Ana Macanović"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{my-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

<p align='justify'>In this vignette, we will calculate the significance and effect size measures
available in `KeynessMeasures` and provide basic tools for their interpretation.</p>

<p align='justify'>Keyness is a property of a word, denoting the extent of its occurence in a corpus.
Our analysis will be guided by the goal of detecting key words - a key word is
**“a word which occurs with unusual frequency in a given text […] by comparison with a reference corpus of some kind”** (Scott, 1997). </p>

<p align='justify'>To do this, we will be performing the frequency with which each word occurs in a 
corpus we are interested in (**target corpus**) compared to the frequency with
which it occurs in another corpus used for comparison (**reference corpus**).</p>

<p align='justify'>We can rely on measures of statistical significance to determine wherther the 
differences in frequencies are statistically significant and effect size measures
to identify the extent of these differences.</p>


This package currently supports the following measures:

1.  **Statistical significance:** Log-likelihood ratio, Bayesian Information Criterion.

2.  **Effect size:** Effect Size of Log Likelihood, %DIFF, The Relative Risk,
The Log Ratio measure, The Odds Ratio.

For more details on using the effect size measures, consult the vignette 
"KeynessMeasures: Introduction to effect size measures". 

In this vignette, we will be using KeynessMeasures to identify key words in
Jane Austen's novel "Emma", by comparing it with other works of Jane Austen.


To download the package from GitHub, use the following command within
the devtools package:
```{r, eval=F, message=FALSE}
devtools::install_github("amacanovic/KeynessMeasures")
```

After the package is compiled and installed, load it:

```{r setup, message=FALSE}
library(KeynessMeasures)
```

### Loading and preprocessing of the file ###

<p align='justify'> Currently, the package works with data.frame input only. Ideally, your corpora
would be prepared in a .csv or other filetype where the document information and text
are both stored within a dataframe.</p>

To load the data we will be using, you need to download, install and load the `janeaustenr` package:
```{r, eval=F, echo=T, message = FALSE, warning = FALSE}
install.packages("janeaustenr")
```

Next, we load the package and obtain all of the novels available in this package 
(6 novels):
```{r, message=FALSE, warning = FALSE}
library(janeaustenr)
novels <- austen_books()
```

If we inspect the file, we can see that this file is a data.frame where each line
of the text is a new observation and the title of the novel is specified in the
`book` field.

Below you can see rows 10 to 20 of this file to get an idea:
```{r, echo=FALSE, message=FALSE}
display <- novels[10:20,]
library(knitr)
library(kableExtra)
kable(head(display, n=10) ,"html", booktabs = T) %>%
  kable_styling(bootstrap_options="striped", full_width=T)
```
